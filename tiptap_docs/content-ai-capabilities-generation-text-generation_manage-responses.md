---
title: Manage responses | Tiptap Content AI
source_url: https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#page-title
twitter:title: Manage responses | Tiptap Content AI
twitter:image: https://tiptap.dev/docs/api/og?title=Store%20and%20regenerate%20responses&category=Content%20AI
docsearch:version: 2.x
ogLocale: en_US
twitter:description: Use the Content AI storage to save, regenerate and insert AI responses into your Tiptap editor. More in our docs!
ogUrl: https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses
robots: index, follow
twitter:card: summary_large_image
viewport: width=device-width, initial-scale=1
og:title: Manage responses | Tiptap Content AI
description: Use the Content AI storage to save, regenerate and insert AI responses into your Tiptap editor. More in our docs!
og:description: Use the Content AI storage to save, regenerate and insert AI responses into your Tiptap editor. More in our docs!
ogTitle: Manage responses | Tiptap Content AI
og:url: https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses
language: en
og:locale: en_US
ogImage: https://tiptap.dev/docs/api/og?title=Store%20and%20regenerate%20responses&category=Content%20AI
og:image: https://tiptap.dev/docs/api/og?title=Store%20and%20regenerate%20responses&category=Content%20AI
favicon: https://tiptap.dev/docs/favicon.png
og:image:width: 1200
og:image:height: 630
ogDescription: Use the Content AI storage to save, regenerate and insert AI responses into your Tiptap editor. More in our docs!
og:type: website
scrapeId: 8f5d9e55-d648-4a73-bd1d-246183bd271b
sourceURL: https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#page-title
url: https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#page-title
statusCode: 200
---

![logo](data:,)

[](https://www.cookiebot.com/en/what-is-behind-powered-by-cookiebot/)

*   [Consent](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
    
*   [Details](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
    
*   [\[#IABV2SETTINGS#\]](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
    
*   [About](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
    

This website uses cookies

We use cookies to personalise content and ads, to provide social media features and to analyse our traffic. We also share information about your use of our site with our social media, advertising and analytics partners who may combine it with other information that you’ve provided to them or that they’ve collected from your use of their services.

Consent Selection

**Necessary**

**Preferences**

**Statistics**

**Marketing**

[Show details](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)

Details

*   Necessary 24
    
    Necessary cookies help make a website usable by enabling basic functions like page navigation and access to secure areas of the website. The website cannot function properly without these cookies.
    
    *   [Cookiebot\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        [Learn more about this provider![](<Base64-Image-Removed>)](https://www.cookiebot.com/goto/privacy-policy/ "Cookiebot's privacy policy")
        
        **1.gif**Used to count the number of sessions to the website, necessary for optimizing CMP product delivery.
        
        **Maximum Storage Duration**: Session**Type**: Pixel Tracker
        
    *   [Google\
        \
        2](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        [Learn more about this provider![](<Base64-Image-Removed>)](https://business.safety.google/privacy/ "Google's privacy policy")
        
        Some of the data collected by this provider is for the purposes of personalization and measuring advertising effectiveness.
        
        **test\_cookie**Stores whether the user's browser has cookie support enabled.
        
        **Maximum Storage Duration**: 1 day**Type**: HTTP Cookie
        
        **ar\_debug**Checks whether a technical debugger-cookie is present.
        
        **Maximum Storage Duration**: 3 months**Type**: HTTP Cookie
        
    *   [ai-demo.tiptap.dev  \
        consent.cookiebot.com  \
        embed.tiptap.dev  \
        embed-pro.tiptap.dev  \
        \
        5](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **CookieConsent \[x5\]**Stores the user's cookie consent state for the current domain
        
        **Maximum Storage Duration**: 1 year**Type**: HTTP Cookie
        
    *   [cdn.webflow.com  \
        hsforms.com  \
        \
        3](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **\_cfuvid \[x3\]**This cookie is a part of the services provided by Cloudflare - Including load-balancing, deliverance of website content and serving DNS connection for website operators.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
    *   [cloud.tiptap.dev\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **tiptap\_cloud\_session**Assigns a unique session ID to manage and maintain their session state across page requests within the cloud application.
        
        **Maximum Storage Duration**: 1 day**Type**: HTTP Cookie
        
    *   [cloud.tiptap.dev  \
        tiptap.dev  \
        \
        4](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **debug \[x2\]**This cookie is used to detect errors on the website - this information is sent to the website's support staff in order to optimize the visitor's experience on the website.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
        **XSRF-TOKEN \[x2\]**Ensures visitor browsing-security by preventing cross-site request forgery. This cookie is essential for the security of the website and visitor.
        
        **Maximum Storage Duration**: 1 day**Type**: HTTP Cookie
        
    *   [embed.tiptap.dev\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **currentUser**Stores a username and its associated caret color, which are used in the collaboration demo to personalize the user's experience.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
    *   [hs-analytics.net  \
        hs-banner.com  \
        \
        6](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **\_\_cf\_bm \[x6\]**This cookie is used to distinguish between humans and bots. This is beneficial for the website, in order to make valid reports on the use of their website.
        
        **Maximum Storage Duration**: 1 day**Type**: HTTP Cookie
        
    *   [x.clearbitjs.com\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **pfjs%3Acookies**Used to check if the user's browser supports cookies.
        
        **Maximum Storage Duration**: 1 year**Type**: HTTP Cookie
        
    
*   Preferences 1
    
    Preference cookies enable a website to remember information that changes the way the website behaves or looks, like your preferred language or the region that you are in.
    
    *   [tiptap.dev\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **loglevel**Maintains settings and outputs when using the Developer Tools Console on current session.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
    
*   Statistics 5
    
    Statistic cookies help website owners to understand how visitors interact with websites by collecting and reporting information anonymously.
    
    *   [Hubspot\
        \
        4](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        [Learn more about this provider![](<Base64-Image-Removed>)](https://legal.hubspot.com/privacy-policy "Hubspot's privacy policy")
        
        **\_\_hssc**Identifies if the cookie data needs to be updated in the visitor's browser.
        
        **Maximum Storage Duration**: 1 day**Type**: HTTP Cookie
        
        **\_\_hssrc**Used to recognise the visitor's browser upon reentry on the website.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
        **\_\_hstc**Sets a unique ID for the session. This allows the website to obtain data on visitor behaviour for statistical purposes.
        
        **Maximum Storage Duration**: 180 days**Type**: HTTP Cookie
        
        **hubspotutk**Sets a unique ID for the session. This allows the website to obtain data on visitor behaviour for statistical purposes.
        
        **Maximum Storage Duration**: 180 days**Type**: HTTP Cookie
        
    *   [x.clearbitjs.com\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **cb%3Atest**Collects data on the user's visits to the website, such as the number of visits, average time spent on the website and what pages have been loaded with the purpose of generating reports for optimising the website content.
        
        **Maximum Storage Duration**: 1 year**Type**: HTTP Cookie
        
    
*   Marketing 54
    
    Marketing cookies are used to track visitors across websites. The intention is to display ads that are relevant and engaging for the individual user and thereby more valuable for publishers and third party advertisers.
    
    *   [Google\
        \
        3](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        [Learn more about this provider![](<Base64-Image-Removed>)](https://business.safety.google/privacy/ "Google's privacy policy")
        
        Some of the data collected by this provider is for the purposes of personalization and measuring advertising effectiveness.
        
        **NID**Pending
        
        **Maximum Storage Duration**: 6 months**Type**: HTTP Cookie
        
        **\_ga**Used to send data to Google Analytics about the visitor's device and behavior. Tracks the visitor across devices and marketing channels.
        
        **Maximum Storage Duration**: 2 years**Type**: HTTP Cookie
        
        **\_ga\_#**Used to send data to Google Analytics about the visitor's device and behavior. Tracks the visitor across devices and marketing channels.
        
        **Maximum Storage Duration**: 2 years**Type**: HTTP Cookie
        
    *   [Hubspot\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        [Learn more about this provider![](<Base64-Image-Removed>)](https://legal.hubspot.com/privacy-policy "Hubspot's privacy policy")
        
        **\_\_ptq.gif**Sends data to the marketing platform Hubspot about the visitor's device and behaviour. Tracks the visitor across devices and marketing channels.
        
        **Maximum Storage Duration**: Session**Type**: Pixel Tracker
        
    *   [Leadfeeder\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        [Learn more about this provider![](<Base64-Image-Removed>)](https://www.leadfeeder.com/privacy/ "Leadfeeder's privacy policy")
        
        **(unnamed)**Tracks the individual sessions on the website, allowing the website to compile statistical data from multiple visits. This data can also be used to create leads for marketing purposes.
        
        **Maximum Storage Duration**: Session**Type**: Pixel Tracker
        
    *   [Reddit\
        \
        3](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        [Learn more about this provider![](<Base64-Image-Removed>)](https://www.redditinc.com/policies/privacy-policy "Reddit's privacy policy")
        
        **rp.gif**Necessary for the implementation of the Reddit.com's share-button function.
        
        **Maximum Storage Duration**: Session**Type**: Pixel Tracker
        
        **\_rdt\_uuid \[x2\]**Used to track visitors on multiple websites, in order to present relevant advertisement based on the visitor's preferences.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
    *   [YouTube\
        \
        10](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        [Learn more about this provider![](<Base64-Image-Removed>)](https://business.safety.google/privacy/ "YouTube's privacy policy")
        
        **LAST\_RESULT\_ENTRY\_KEY \[x2\]**Used to track user’s interaction with embedded content.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
        **nextId**Used to track user’s interaction with embedded content.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
        **requests**Used to track user’s interaction with embedded content.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
        **TESTCOOKIESENABLED \[x2\]**Used to track user’s interaction with embedded content.
        
        **Maximum Storage Duration**: 1 day**Type**: HTTP Cookie
        
        **\_\_Secure-ROLLOUT\_TOKEN**Pending
        
        **Maximum Storage Duration**: 180 days**Type**: HTTP Cookie
        
        **remote\_sid**Necessary for the implementation and functionality of YouTube video-content on the website.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
        **VISITOR\_INFO1\_LIVE**Pending
        
        **Maximum Storage Duration**: 180 days**Type**: HTTP Cookie
        
        **YSC**Pending
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
    *   [embed.tiptap.dev\
        \
        3](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **yt.innertube::nextId**Registers a unique ID to keep statistics of what videos from YouTube the user has seen.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
        **LogsDatabaseV2:V#||LogsRequestsStore**Used to track user’s interaction with embedded content.
        
        **Maximum Storage Duration**: Persistent**Type**: IndexedDB
        
        **ServiceWorkerLogsDatabase#SWHealthLog**Necessary for the implementation and functionality of YouTube video-content on the website.
        
        **Maximum Storage Duration**: Persistent**Type**: IndexedDB
        
    *   [sc.lfeeder.com\
        \
        5](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **\_lfa\_test\_cookie\_stored \[x2\]**Used in context with Account-Based-Marketing (ABM). The cookie registers data such as IP-addresses, time spent on the website and page requests for the visit. This is used for retargeting of multiple users rooting from the same IP-addresses. ABM usually facilitates B2B marketing purposes.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
        **\_lfa**Used in context with Account-Based-Marketing (ABM). The cookie registers data such as IP-addresses, time spent on the website and page requests for the visit. This is used for retargeting of multiple users rooting from the same IP-addresses. ABM usually facilitates B2B marketing purposes.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
        **\_lfa\_expiry**Contains the expiry-date for the cookie with corresponding name.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
        **\_lfa**Used in context with Account-Based-Marketing (ABM). The cookie registers data such as IP-addresses, time spent on the website and page requests for the visit. This is used for retargeting of multiple users rooting from the same IP-addresses. ABM usually facilitates B2B marketing purposes.
        
        **Maximum Storage Duration**: 1 year**Type**: HTTP Cookie
        
    *   [www.youtube-nocookie.com  \
        embed.tiptap.dev  \
        \
        22](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **#-# \[x2\]**Used to track user’s interaction with embedded content.
        
        **Maximum Storage Duration**: Session**Type**: HTML Local Storage
        
        **iU5q-!O9@\[#COOKIETABLE\_ADVERTISING#\]nbsp;\[x2\]**Registers a unique ID to keep statistics of what videos from YouTube the user has seen.
        
        **Maximum Storage Duration**: Session**Type**: HTML Local Storage
        
        **ytidb::LAST\_RESULT\_ENTRY\_KEY \[x2\]**Used to track user’s interaction with embedded content.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
        **YtIdbMeta#databases \[x2\]**Used to track user’s interaction with embedded content.
        
        **Maximum Storage Duration**: Persistent**Type**: IndexedDB
        
        **yt-remote-cast-available \[x2\]**Stores the user's video player preferences using embedded YouTube video
        
        **Maximum Storage Duration**: Session**Type**: HTML Local Storage
        
        **yt-remote-cast-installed \[x2\]**Stores the user's video player preferences using embedded YouTube video
        
        **Maximum Storage Duration**: Session**Type**: HTML Local Storage
        
        **yt-remote-connected-devices \[x2\]**Stores the user's video player preferences using embedded YouTube video
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
        **yt-remote-device-id \[x2\]**Stores the user's video player preferences using embedded YouTube video
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
        **yt-remote-fast-check-period \[x2\]**Stores the user's video player preferences using embedded YouTube video
        
        **Maximum Storage Duration**: Session**Type**: HTML Local Storage
        
        **yt-remote-session-app \[x2\]**Stores the user's video player preferences using embedded YouTube video
        
        **Maximum Storage Duration**: Session**Type**: HTML Local Storage
        
        **yt-remote-session-name \[x2\]**Stores the user's video player preferences using embedded YouTube video
        
        **Maximum Storage Duration**: Session**Type**: HTML Local Storage
        
    *   [x.clearbitjs.com\
        \
        6](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **\_\_tld\_\_**Used to track visitors on multiple websites, in order to present relevant advertisement based on the visitor's preferences.
        
        **Maximum Storage Duration**: Session**Type**: HTTP Cookie
        
        **cb\_anonymous\_id**Collects data on visitor behaviour from multiple websites, in order to present more relevant advertisement - This also allows the website to limit the number of times that they are shown the same advertisement.
        
        **Maximum Storage Duration**: 1 year**Type**: HTTP Cookie
        
        **cb\_group\_id**Collects data on visitors. This information is used to assign visitors into segments, making website advertisement more efficient.
        
        **Maximum Storage Duration**: 1 year**Type**: HTTP Cookie
        
        **cb\_user\_id**Collects data on visitor behaviour from multiple websites, in order to present more relevant advertisement - This also allows the website to limit the number of times that they are shown the same advertisement.
        
        **Maximum Storage Duration**: 1 year**Type**: HTTP Cookie
        
        **cb\_group\_properties**Collects data on visitor behaviour from multiple websites, in order to present more relevant advertisement - This also allows the website to limit the number of times that they are shown the same advertisement.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
        **cb\_user\_traits**Collects data on visitor behaviour from multiple websites, in order to present more relevant advertisement - This also allows the website to limit the number of times that they are shown the same advertisement.
        
        **Maximum Storage Duration**: Persistent**Type**: HTML Local Storage
        
    
*   Unclassified 1
    
    Unclassified cookies are cookies that we are in the process of classifying, together with the providers of individual cookies.
    
    *   [tiptap.dev\
        \
        1](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
        
        **tiptap\_pro\_session**Pending
        
        **Maximum Storage Duration**: 1 day**Type**: HTTP Cookie
        
    

[Cross-domain consent2](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#)
 Your consent applies to the following domains:

List of domains your consent applies to:

[cloud.tiptap.dev](https://cloud.tiptap.dev/)

[tiptap.dev](https://tiptap.dev/)

Cookie declaration last updated on 3/13/25 by [Cookiebot](https://www.cookiebot.com/ "Cookiebot")

\[#IABV2\_TITLE#\]

\[#IABV2\_BODY\_INTRO#\]

\[#IABV2\_BODY\_LEGITIMATE\_INTEREST\_INTRO#\]

\[#IABV2\_BODY\_PREFERENCE\_INTRO#\]

\[#IABV2\_LABEL\_PURPOSES#\]

\[#IABV2\_BODY\_PURPOSES\_INTRO#\]

\[#IABV2\_BODY\_PURPOSES#\]

\[#IABV2\_LABEL\_FEATURES#\]

\[#IABV2\_BODY\_FEATURES\_INTRO#\]

\[#IABV2\_BODY\_FEATURES#\]

\[#IABV2\_LABEL\_PARTNERS#\]

\[#IABV2\_BODY\_PARTNERS\_INTRO#\]

\[#IABV2\_BODY\_PARTNERS#\]

About

  

  
  

**Do not sell or share my personal information**

Allow allCustomize

Allow selectionDeny

The AI Generation extension stores the current state in it’s extension storage under `editor.storage.ai || editor.storage.aiAdvanced` (depending on if you are using the extension-ai or extension-ai-advanced extension). This storage is used to keep track of the current state of the AI response, as well as any past responses.

| key | type | definition |
| --- | --- | --- |
| state | `'loading' \| 'error' \| 'idle'` | While the AI is generating a response, the state is set to `loading`. After the response is generated, the state is set to `idle`. When there is an error, the state is set to `error` |
| response | `string \| undefined` | The most recent message generated by the AI. When `idle`, if this is a string, it is the previous generated message, if `undefined`, no message has been generated. When `loading`, this will be a string of what the AI has generated so far (if streaming the response). When `error`, this is `undefined` |
| error | `Error \| undefined` | The error generated, only ever set in the error state |
| generatedWith | `{ action: TextAction; options: TextOptions; range: undefined \| Range; } \| undefined` | The options that describe what the last generated response was generated with range is only ever set if inserting the content into the editor |
| pastResponses | `string[]` | Stores previously generated responses (on success), most recent first. Cleared when the response is accepted/rejected. |

You can use this storage to read out the current state of AI responses like:

    const aiStorage = editor.storage.ai || editor.storage.aiAdvanced
    
    if (aiStorage.response.state === 'error') {
      // The error that occurred
      aiStorage.response.error
    }
    
    if (aiStorage.response.state === 'loading') {
      // The message that is currently being processed
      aiStorage.response.message
    }
    
    if (aiStorage.response.state === 'idle') {
      if (aiStorage.response.message) {
        // The successful response
        aiStorage.response.message
      } else {
        // No response has been requested yet
      }
    }
    

[](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#using-ai-storage)
Using AI Storage
---------------------------------------------------------------------------------------------------------------------------------

Want to leverage the Tiptap Content AI's ability to generate results but, not have the results available outside of the editor? You can use `insert: false` on any AI [TextOption](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/built-in-commands#text-command-options)
 and it will store the result into the extension.

    const chatMessage = 'Hello, how are you?'
    
    editor
      .chain()
      .aiTextPrompt({
        text: chatMessage,
        stream: true,
        insert: false,
        format: 'rich-text',
      })
      .run()
    

From there, you can use the `aiAccept`, `aiReject`, and `aiRegenerate` commands

### [](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#aiaccept)
aiAccept

This command is meant to be ran when the user has accepted the AI response, it will insert the response into the editor by default and it’s behavior changes depending on the provided options.

| key | type | definition |
| --- | --- | --- |
| insertAt | `number \| { from: number, to: number }` | When a `number`, accept the response and insert it into the start of the editor. When `{ from: number, to: number }`, accept the response and replace the content from position from to position to with the AI response |
| append | `boolean` | If `true`, instead of replacing the current selection, append to it |

The default behavior with no provided options is to, accept the response and insert it into the editor, replacing the current selection

    // Accept the response and insert it into the editor
    editor.chain().aiAccept().run()
    
    // Accept the response and insert it into the editor at the start
    editor.chain().aiAccept({ insertAt: 0 }).run()
    
    // Accept the response and insert it into the editor at the end
    editor.chain().aiAccept({ insertAt: editor.state.doc.content.size }).run()
    
    // Accept the response and append it to the current selection
    editor.chain().aiAccept({ append: true }).run()
    

### [](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#airegenerate)
aiRegenerate

This command is meant to be ran when the user wants the to retry the AI response, it will use all the same options as the previous AI text operation and add to the `(editor.storage.ai || editor.storage.aiAdvanced).pastResponses` array

| key | type | definition |
| --- | --- | --- |
| insert | `boolean` | Whether to insert the regenerated response into the editor |
| insertAt | `number \| { from: number, to: number }` | If not specified,the regenerated response will be inserted where the previous response was. When a `number`, regenerate the response and insert it into the start of the editor. When `{ from: number, to: number }`, regenerate the response and replace the content from position from to position to with the AI response |

The default behavior with no provided options is to, regenerate the response and insert it into the editor, replacing the current selection

    // Regenerate the response and insert it into the editor
    editor.chain().aiRegenerate().run()
    
    // Regenerate the response and insert it into the editor at the start
    editor.chain().aiRegenerate({ insertAt: 0 }).run()
    
    // Regenerate the response and insert it into the editor at the end
    editor.chain().aiRegenerate({ insertAt: editor.state.doc.content.size }).run()
    
    // Regenerate the response and append it to the current selection
    editor.chain().aiRegenerate({ append: true }).run()
    

### [](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#aireject)
aiReject

This command is meant to be ran when the user has rejected the AI response, it will reset the extension’s state to the initial idle state and clear all `(editor.storage.ai || editor.storage.aiAdvanced).pastResponses`

| key | type | definition |
| --- | --- | --- |
| type | 'reset' \| 'pause' | Whether to reset the AI to the idle state. Or just pause the current response. Default is `'reset'` |

    editor.chain().aiReject().run()
    
    // Will not clear out editor.storage.ai || editor.storage.aiAdvanced, useful for keeping current response in the editor storage
    editor.chain().aiReject({ type: 'pause' }).run()
    

[](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#advanced-example)
Advanced Example
---------------------------------------------------------------------------------------------------------------------------------

One use-case of extension storage could be to render a preview of the AI generated content.

To render a preview of what a chat would look like in your editor, we can use your editor’s schema to generate the html that would be generated. With this HTML you can display a preview of that content in an element

    // Display the response as HTML
    import { tryParseToTiptapHTML } from '@tiptap-pro/extension-ai'
    
    // try to parse the current message as HTML, and null if it could not be parsed
    tryToParseToHTML((editor.storage.ai || editor.storage.aiAdvanced).response.message, editor)
    
    // try to parse a previous response as HTML, and null if it could not be parsed
    tryToParseToHTML((editor.storage.ai || editor.storage.aiAdvanced).pastResponses[0], editor)
    
    // For example in React
    function PreviewComponent({ editor }) {
      const htmlResponse = tryToParseToHTML(
        (editor.storage.ai || editor.storage.aiAdvanced).response.message,
        editor,
      )
      /* This is safe since we've parsed the content with prose-mirror first */
      return <div dangerouslySetInnerHTML={{ __html: htmlResponse }}></div>
    }
    

See our demo below for a full example of how a chat preview could work.

On this page

[Introduction](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#page-title)
[Using AI Storage](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#using-ai-storage)
 [Advanced Example](https://tiptap.dev/docs/content-ai/capabilities/generation/text-generation/manage-responses#advanced-example)

![Cookiebot session tracker icon loaded](https://imgsct.cookiebot.com/1.gif?dgi=73ee9606-0ee4-41ab-85ee-7626f8741637)